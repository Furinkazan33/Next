#include <stdlib.h>
#include <window.h>



MenuItem w_new_menuitem(char *name, void *onClick, MenuBox *menubox) {
    MenuItem *m = (MenuItem *) malloc(sizeof(MenuItem));
    m->name = name;
    m->onClick = onClick;
    m->menubox = menubox;

    return m;
}



MenuBox *w_new_menubox(MenuItem *menuitem) {
    MenuBox *m = (MenuBox *) malloc(sizeof(MenuBox));
    m->menuitem = menuitem;

    return m;
}

/* First level menu  */
typedef struct topmenu {
    char *name; // Displayed in the menu bar
    MenuBox *menubox;
    struct topmenu *next;
} TopMenu;

TopMenu *w_new_topmenu(char *name, MenuBox *menubox, TopMenu *next) {
    TopMenu *m = (TopMenu *) malloc(sizeof(TopMenu));
    m->name = name;
    m->menubox = menubox;
    m-> next = next;

    return m;
}

/* Menu bar contained in window */
typedef struct menubar {
    TopMenu *topmenu;
} MenuBar;

MenuBar *w_new_menubar(TopMenu *topmenu) {
    MenuBar *m = (MenuBar *) malloc(sizeof(MenuBar));
    m->topmenu = topmenu;

    return m;
}

/* Allocating new window */
Window *w_new(char *title, MenuBar *menubar, int x, int y, int w, int h) {
    Window *w = (Window *) malloc(sizeof(Window));
    w->title = title;
    <->menubar = menubar;
    w->x = x;
    w->y = y;
    w->w = w;
    w->h = h;

    return w;
}


